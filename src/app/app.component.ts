import { Component } from '@angular/core';
import { createWorker, PSM, OEM } from 'tesseract.js';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.css']
})
export class AppComponent {
  title = 'tesseract.js-angular-app';
  ocrResult = 'Recognizing...';
  constructor() {
    this.doOCR();
  }
  async doOCR() {
    console.log("started");
    const worker = createWorker({logger: m => console.log(m),
    langPath:"..",
  gzip: false});
  await worker.load();
  await worker.loadLanguage('tes1');
  await worker.initialize('tes1');
    await worker.setParameters({
    tessedit_char_whitelist: 'RPrp-0123456789',
    tessedit_ocr_engine_mode:OEM.DEFAULT,
    tessedit_pageseg_mode:PSM.AUTO_OSD
  });
  const { data: { text } } = await worker.recognize("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCAAwAQQDASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAAkGBwgFCgT/xAA8EAABBAEDBAIBAgMEBwkAAAACAQMEBQYHEhMACBEUCRUiFiEXGSMYMTIzJEFCV3Om1DVSVFZjaIKV5P/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwBqfXyW1tVUFVNvb2ziV1bXR3JcyZLeFliMw2Kk4644SoIAIopKSqiIiKq9LL7zflxoolFBxLs7yT3rWdtkWOVyKkwbr2xP9o0eNNaTkePb+bhtq2DZIgbzPcwvWp0U7r+4u1hZzD041KzyRlMhuM1k0uDMlsSzAkjCrli8itIDato2puOIDaNqhKKAvgPRni2WYrnNFFynCsmqsgpZu/1rGrmty4r+wyA9jrakBbTAhXwv7EKov7ovXW689ejmrPcd8c2uLn3mIWtO494Zv8WtxNiLeQW3nG0cbcRCAtpg9wTGt4oSH4VxsnGzf9ieU0Wc4rTZri073aXIK+PaV0niNvnivti405sNBMdwGK+CRCTz4VEX9ug63R1irvX+TDBO2Cxm6Z4TSfq3UmN5bmQpKPRoNNyRQejvPuKCezu5mSRlkk8ijiE6ySChLrz3W75Ke62iK8aqtVbLDLn7BqPGw7G5kenfivmrb8VTiN/6YyGwmfEhx4hRDFSVSNSB6dBlmK5X9l+lsmqrn6aweqbH6+a3I9Oc145Yz2xV43g3DubLwQ+U8onnrrdeZbHMp1x7YtRym0c7K9OczquEZMd1p6DKRtVakAzJjuInIye1k1adAmzHb5EkVOvR9pPnX8UNLMN1M+r+s/VuP1176XPzer7UZt7i5No79vJt3bR8+PPhPPjoJX0dHWP+4/5Qu3Ht9vbXBYzlrm+X1XtRpNfSNgkWFObAVCPKluKIDuM9hKyL5NE26JghigEGwOjpWuFfODVSMmdZ1G0ClwMefkETUikuhlzYjCRx2gTTzbQSTKQJqpo4ygtuCm0ibVXWaYnlNFnOK02a4tO92lyCvj2ldJ4jb54r7YuNObDQTHcBivgkQk8+FRF/boOt0dHR0B0dHR0B0dHSQPlr7j73U3uCmaM1OQb8M084Y6RIc8Hosu4JrfJkuIAp4ea5VicZkatEy942K64PQO/6Os/9g+pmVau9oWm2dZrL9u6kV8ivkyicccclelLehg+6bhkZvOBHE3DUvycIyRERURMK68fMXrjh+qeQYVgujWKUMTGrCXTSo2TG9YzilR5LrZmRw5DbLf7CCK2CvCJCao84KoqA2ro6TA381/cklVIZe0001KyKQyUeQMSeLDbCC5ygbXtKRmRKyomjgoCA4iie9Fb+vUj5OvkLiacR8js9IqrAaXIPW+qy1rDZ7bbvInO36zs512K7ytAap5A/LakQ+FRCQHKdHSC6n5U++OutYVhM1diWkeLIbedgy8brBYlAJIpMuKzHB1AJEUVVswPwq7SFfCo6ml1ejYx280etWvb8TCzDF6+5ycJLDsYK6W7HbJ6OjJ7nkNHjVoGV3OqaiCIRqiKFl9HWVf5o/Yn/AL8/+Wbj/pOj+aP2J/78/wDlm4/6ToNVdHS4NUPmw0jx61Sv0o0lyDM47MiSzInWU8KZhwAJEaejJxvuuA4m8vDoMmKIHkVUlQKf7A++nuO1c72mKDPcz+zodSfe9ylcE1g1XqwZEiP9c2pL623hRsv3LlEiJ3kdQXRBv/R0dRTOtWNLNL/R/iZqXimJfZ8vpfe3MaB7XHt5OLmMd+3kDdt8+N4+f706CV9HWNdUPlm7P9OLVKasv8gzmQ3IkxpZ4vWi6xGNkkHzzSXGGngNVLYbBOgSAq+URQUqfv8A5vdLI2VVsPFtD8rsMbd4fsbCwsY0OdH8uKjvDEBHm3tre0h3SGtxKorsRN6gyro6j+nua1WpWAY1qNRR5bFblVPCu4bUsBF9tiSyDzYuCJEKGgmiKiESefPhV/v6OgRD2R9of8ae7iTopq1C9WBgn2E3LqwJ+x530nxjHEbeZQxLzKdaE1Ax8tI6rbiFsVX51NTVUFVCoqKsiV1bXR24kOHEZFliMw2KC2022KIIAIogoKIiIiIideaxmFkLermXYN2t22a3lbeSLajqQphlfY31BvMkbfZYADdByO0DjrRNoP4qpAO3wllYtrv359mVFFxaNaagaeUtrv8Arq7JcfVYq8RkbvptWLBA1+cnc5woO4nBU/K7eg2r83uOacBiummWyD9fPnbCXXQxbjonu04No5IV51G1VeB843GCuIie2+ogW4iHVXxvfqr+xLpb+sftff8Ar5fD9nyc3o+9I9Lbyflw+rwcXj8eLj2fjt6WX2z9qOvPyP5lJ1o1h1Rlv4nXXH1dvbTZ3NYuJ4KU7CrY+0mo4CsgPCKjbLXs7mwd2G1076pqaqgqoVFRVkSura6O3Ehw4jIssRmGxQW2m2xRBABFEFBREREREToErfIZj8nS35GYmrmq+By52n1zcY9ctoUVqUxdV0GPCanxwAy4jNFZcbJlxR/Y21JEBwCJimZd/wD2ZaN6R1WV47qLj91UNx4USoxnEHIzti2wQJxNJA3trEBpofyF5Gkb2cf7OKDZHyUZJgOK9n2cWec4xj9/IfjpW4/EtlZ3t2ssSjNyonKBL7Mdp5+QPGiHsZc8ECbjFW3Z38c+Vd3ulmVamVGplVjf01g7TVcKTAcke9ObjA8SPuCQ+sz/AF44o4IvF+7i8abBRwJVi2lWuPye91kXVPP8LyvF9Nr3ea3EeO87X1tPDQmxhwpMnw048bwqBcSKiPvSH+DaLgI7SpqaqgqoVFRVkSura6O3Ehw4jIssRmGxQW2m2xRBABFEFBRERERETpUHbh3vay9jN7Vdq/eng9qzSw/V+tuHJAyJVHVuASBtVnkCwhgaCI8Tm9kQfbHkVsI7bX6m2qr+qhXtFZxLGtsY7cuHMiPC8xJYcFCbdbcFVEwIVQkJFVFRUVOgSt8mvdFn2uHcNY9vemN3kD+J49Ibxc6GrN7ZfXYyBV7kjC2BvmEkW47bZco743I0qcy+ZB/Jb1l/g1+sf4iVX8Qvr/d/Rfpjw827z6n2XPx83H+3nj4uX8OTj/r9Vr8YuoWl9L3gu6jdwOcRIE5yntZdZfX9m40BXb5Ajjr8kyQFNyM5OTc+W0jNPHl1W+m/aod2/bzpNpemrmQapY/PopceS9TpUWUeY/eGw4jTjMAAPxIMXSFslFdjal5cJsUIkBIPdR2W5l2lYbpnc6g5FEfyHPY9i9OpYzKEFMcZY6oyslDUZBqMod6iIgJgSCTo+DVxPxvYte4f2S6W1ORwfUlyK+XaNt8oObos2dIlxnPIKqJvYfaPx53Du8EiEioits1s8y+U7veag4g3LoKKRHGDAenREkLR0ERCM35CRxRFNx1x0xEzUUeltsc23YfT06mpqqCqhUVFWRK6tro7cSHDiMiyxGYbFBbabbFEEAEUQUFEREREROgorUzv47QtIsqfwrOtbaqPdRNwyo1fEl2fquA4bZsvHDadBp4TbNCaNUcH9lUUQkVagzX5hez/ABW1ar6JzNcxjuRxeKdSUgtMNmpEiskk52O7vRBQlVAUPBj4JV3IOFda/i17xk1cy97DMLl5vRSriTLr8hm5RXlLsWHjVwXZJSHWXSk+D8PEraIrqOKO4VElmumfwp645BwS9UtTsUw+JIrxkcNe09bzo8oti+s83/RZTaiuITjb7g7gRB3iW9A0r/Or7WP/ACDqr/8AVV3/AF3V/wDa13v6Hd3H3ELTeVa1t1SeHZFJessx5xxV2okpoWnXAcZ3lsJRNSAtu8RRxtTxX/Ix/wDdF/yT/wDv61/2Zdi+nHZ5RTnKyf8AqjM7nc1ZZNIhpHcKLv3NxY7W8+BlNoEaIZE44iERKgtA2HV71+66i7S9GpuZctVMy+y8w8WpJrxj78rcCOOKLaKassAfK4vkBXwDfIButr154ba2tb+1m3t7Zy7GysZDkuZMlvE8/JfcJScdccJVIzIlUlJVVVVVVevSnq723aJa9WuL3Or+AxMnkYdIdk04S5D6MNG4TROI4yBi1IAljteQeEwVBVFTwRIqi/mIxPFcP7msYrsSxmqpIh6f1m5iuhNxmy4pUyO15FtERdjDDDQ/91tpsE8CIogN/wC37TP+Deh2B6WuRKqPLxnH4NfP+rb2RXpwMj7T4fgClyvq64pkKEZGpEm4l6orV74wu1zWfVxzWDIq/IKydPkNS7eqppzUWutnxNSddfDiV0DeT8XSZcaUv3P9nSNwta9HQVVnWqXbj2jYJBZyy9xTTnG2eX6yqhxQY5PLwq96kGMCuO+HJAm5xNlt5FM/CKpdKr7m+6XO/k01Ywztr0Ixv6fFnrAZkFq9JliVKnNxnSemSjAnEZZjsLJ2tNEZGKGSo4ZNNN3rbfChVX+fzcove5zILGtsbhyfMbl0QvWslhx5TcFyeUlROSQqqLIVhUU1U1b/ANjrH/e129Ruw3Xmii6Jav5A3In06W8B0ZLsW7qQPkjHvlRwaaMHVB9BVpRNB5AcBEQHHg3/ANlnxY4boHa1WqWstlEy7UGrkPPwYsQlOkrTQh4H2xdaB1+SCCRo4aCAE4m1ve0Dy7A1o0hw3XrS/INI9QGJblFkUcWZCxH1ZfaMHBdaebP90Q23W23EQkIFUEQhIVUV5PbRnlrqf286b6gX8qXKt73F62XZyJNeUI35qxw9h1GiAEQCdQyAgFGzBRNvy2Qqtl9AmvKfhL19iXsqPhWq+n9rShs9aZaFNr5TvkBU98dtiQAeDUkTw6XkUQl2qqimn9Ifhx7aMKjNyNUrXINR7JY7rL4PSTqq7erqEDzTMU0fAxbRAVDkuAu4y2p5FA1B3T6s5VoX2+5tqzhWIfqa6xyvSTGryFwm03Og2ch1G0U1ZYAyfcRFHy2yfk208mKoMK1i+VTvJtXdRtIb7IHK3E7gnWmqSVBpKqO+4QvDEIXjbGwBsQbRWpBSFEDHk/zlVwNVd9PaF20aEdjmpFhpbo5j9TZMSKqSxaPNnOsY5uWcFo0amSicfbBW/IqAGgfmf7fmXmFfCXo5RNYrnXcDIe5rqTYLh0NvaY+pFbbjy5C+UPY5zG7G/ZQ3B6v4l4cJEwr3eZZ3k/ruTgvdxk2V/a/6LbDTTZrf1f8Akq01JisRV9L/AA8gK4wP+PmEl38idXVoX2v/ACuaPw66+0Xx3K8ZgS/No3WO5JWNRTcfYQFck1kuRx83HsRUfZ5AIB8oJAm0HFa35ra6a6L59qNRR4j9liuL2t3DalgRMOPxojjzYuCJCSgpAiKiEK+PPhU/v6860nMcy7ltaKF/W/VuWUjI7iLVzMju30cYp4kiX5ccECMGmYzKvuuI0CttCm5E2J+6eh7FqfKtT9DouOdw+HVVddZTj51+WUlXYOOxR9hkm5DIPComO4DVFQDLjIlEHXUFHTwXZ/B9gLuZBOptfcgi4mkhgjq5NKy/YqwiBzAk0XAaQyVHNh+sqBuHyLm1VIIpbdu/xJ6IaLzSz/WWJqPkL8dxobTHsnSXarNKIvhIcKC6rDIcjRm2ssXGxNwQeeIVFOlbdPzqfis7HK6qhV8zSKXaSIsdtl2dLySzF+UYiiE84jMgGkMlRSVGwAPKrtEU8Iiy/lQhaWY/3WSMF0p0/qsRiYrj9dX2kWrqo0CLInOo5M5wBjwh+WJcYFMhEtzaj4URFVB5OnuFVWmuAY1pzRSJb9bitPCpIbssxJ9xiMyDLZOEIiKmogiqqCKefPhE/u6OpB0dAoD4QsF+w1T1L1M+04/ocfiUXpcHnm9+Sr3Lybvx2fW7du1d3N58js8EzTuK0Gw3uS0jvdKczhRCCxjmdZOejq8dTYoBJHmtIJgW9si8qKGO8FNsl2GSKaIdt2iXbhVWdNovgMTHI9zICTPMZD8p+SYDtBDekGbqgKKW0N2wVNxURFM1Wy+g8+3aR3JZl2Edw13FzCglyq0ZD2M5pQsTUI2zjyFEnmdjnA7JjuA4gKSkBAbwCYcvKL6cAz/DdU8NqdQdPshiXmPXkdJMGdGVdjoeVRUVFRCAxJCAwJEMDEhJBIVRM69xfxsduPctnb2pmWFldFkk7b9nNorQA+w2Msss8rclt5sONtgRHiFvzuJT3r4VL10X0hw3QXS/H9I9P2JbdFjscmY6y31efdM3CddecP8AZFNx1xxxUFBBFNUERFEFAp/5CO2u97oe3GwwrDl35TSWDGQ0UY5QR2ZkpkHGzYcMxVE3sPvoHlQHl4lMxBDXpcHZR8iEns1w3LNEtUtKJcwK2RMl1jMKG1X2LNyioDkOyU0ElBSBBV4xN9nj49joI2DLtOoVmuiGi+pVq1e6jaQ4VlVkxHGI1Mu6CJOfbYEiIWhcebIkBCMyQUXx5Ml/1r0CK+8DvIz7vrzLE6pjTSJUR6aQ9ExynqyesLGQ/NSMBtOOIgpIMnY48Ytstqm/au9fBK4nsK0tzvRbtOwbTPUui+mySm+z92F7TMji5bKU83/UZM2y8tugX4kvjz4XwqKiWXhWiGi+mtq7e6c6Q4Vitk/HKI7MpKCJBfcYIhImicZbElBSACUVXx5AV/1J1NegUr3H/DJlTV7a5T2zZXVSaV72prOL3bzjEqJ4ASbiRZSoYSN58oir6s7BRpDccVTdTlaZ/CXqnJypj+Meq+KV+NtbXH/0yUmZOkeHA3Mj7DDLbO5vk8PLy7SQP6Roq+G/9HQUV2z9lmg3ajGkvaYY/LfvbCP6k7IbeT7NjJY5ScRrcgi00HlQRRZbbQ+JpT3kCF1evR0dAdHR0dAdHR0dBVXcL3O6Ndr+Ks5Tq5lHoe/zhV10ZkpE6zeabUybYaH/AOAq4ag0BOtoZhvHyiHvT7mJPddrza6nswZdfRMR2ajHoMtGueNXM7lHkVsURTcdceeVFI9ivK2hmICvTae9r446rvDz+i1GZ1Zl4fZVVOlJIaKmGxYkMA8480QDzMk2aE+8hKpGhIrfhA2qpxTAPhp7XMZk1Njmd9muYyIkdBsIcmwah1059WlEjRuO2MhoN68gAkhVTaIkTibtwUV/PFyr9K+n/Z2qv1J9fx/YfqRz0fe4/HN6nr8nDyflw+xu2/jy+fz662hfzV/9t/2l8B/8N9J+har/AIvsez7s7/gbNn/qbv8AZ6Y/pfoppHorVLTaUacY/i0dyPGjSDrYINPzAYFRaWS945ZBihH+bpGaqZqqqpKq5q1i+KLtc1jz+01GmSs1xuyvJD86zapLdrglzXnnHnpJDLZfIDMnFRRbIW0QR2gP7qoUVrH82mKtUTcft+0otZN0955JmYi2xFieDbVPEeI+ZyN4cyf5rOwkAv6iKopkrtx7VtefkW1QyTUbL8wlw605Bu5BmtlE9lDmq2nFEjMCTYuGg8ScQEDbDKB/h8stuN0wXsD7NtO/e+g7e8Ul/YcXN96y5d7ePdt4vfJ7h8713ce3d4Hd52j40B0HJxPFqLBsVpsKxaD6VLj9fHq66Nym5wRWGxbab3mpGW0AFPJKpL48qqr+/XW6OjoDo6OslfJ7U683/a5LotA6zILGZY3EaJkUOhZ5psmkcaeF5oWwRXjAnljC4LKKStqaH/S5egXBk1jD7sflXZk45jlVfUtjqBAjuRvcYmwbKnqEabkyd5ojTzLsSA6/x/khCeweRVRSep0oD4t+yXXGm12g6/akYpa4NS4V7jEeFe1r0WdbSpEN1hRaZdQTBlsJG8niTaRILYIa8hNN/wCgp/uY7qtI+1DDY2YapWUsjsZHrVlRWtg9Y2Joo8istGYDsbEkIzMhAfIj53m2ByDQvXTTjuL04rtUNL7n3qqd5aeZdRAlV8oURXIsltFXjeDcPlPKiokJgRgYGVFfIZ2S2veLhuNlh+WRKbLMOkSSrQslJK6WxKVlJAPE2ButmiMNmBiJJ+JAQ/mjja4Mp7Rvkp7VocqjwCVqA9jb1gBI7prkEx+LLlOsCRPenGIJI+BaRonXY4DubEdyorakDidee4rSPttw2Tmeq2WRK4BjvPQawHQKxtjbUBVmHHUkJ49zrSKqeADehOEAeSRIPbXbZ93R/IRg2a3tnEXIbzOGcqmFIee4GmIJrOcjMqSuGIBHiqyw2qqgoLQKQim5OriXZZ37d12ZI9nuP5qxIr44RHMh1MkzYwRmPDzjbQFKEpDob0NNrDbiAboqexD3dNf7MuxfTjs8opzlZP8A1RmdzuassmkQ0juFF37m4sdrefAym0CNEMiccRCIlQWgbDSvR0dHQf/Z");

    this.ocrResult = text;
    console.log(text);
    await worker.terminate();
  }
}
